# TxtTags 
`C#版` `WPF` PC文本小说管理、阅读器，基于标签的文件管理，可建立多个书籍库，可设立私密书库和私密标签。**只支持txt类型文件**， 自用工具，UI没太大讲究。
# 书籍管理
## 1.书籍库
可指定目录为一个书籍库，可管理多个书籍库。
## 2.搜索
如本机没有或没有启动[Everything](https://www.voidtools.com/zh-cn/support/everything/sdk/)，将启动自带`Everything`搜索，**第一次启动时将需要一些时间来扫描本机文件**。
搜索语法使用`Everything语法`，限定`ext`为txt, 只搜索文件`file：`，拆分`content:`为独立搜索框
## 3.标签、评级、收藏
可自定义`标签分类`、`标签`，可单文件或批量设置标签。
标签、评级、收藏按规则加在文件名中。
## 4.文件及目录
单个文件或批量重命名、删除文件或目录、复制文件、文件名、更换文件编码、转简体中文、拖动等

# 阅读
阅读器基于 [AvalonEdit](https://github.com/icsharpcode/AvalonEdit) 版本：6.3.0

```
因AvalonEdit无法设置行高， 对此编辑器的TextView增加了LineSpacing属性，使用其能动态调整行高。
为实现文本滚时，章节目录随内容滚动自动定位，TextView增加了AfterEnsureVisualLines事件，EnsureVisualLines后触发此事件。
```

## 1.版面设置
可设置`字体大小`、`颜色`、`背景色`、`行高`。
## 2.章节目录
可自动提取大部分章节目录并导航到指定位置。
## 3.书签
可标记书签，可导航到指定书签。
## 4.搜索
可搜索内容，一次显示全部搜索结果列表，可导航到指定的位置。替换掉[AvalonEdit](https://github.com/icsharpcode/AvalonEdit)自带的逐条显示搜索。
## 5.内容格式化
* 【默认强制】标准化换行符为\r\n，检测修复错误的分段和换行
* 【可选】重新分段
* 【可选】段落间可统一保留或不停留空行
* 【可选】段落头统一使用\t缩进
* 【可选】删除无意义行，如全符号，非可见字符
* 【可选】统一转为简体中文
* 【可选】数字和英文统一转为半角
